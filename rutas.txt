Rutas de las clases 

OBJETOS DE LAS CLASES SALA, FUNCIONES , RESERVAS




#salas
# RUTA CONSULTA SALA
@cinex.route('/salas')
def Salas():
    result= sala.consultar_salas()
    return render_template('salas.html', salas = result)

# RUTA AÑADE SALAS
@cinex.route('/add_salas', methods= ['POST'])
def add_salas():
    try:
        if request.method == 'POST':
            sala.setnombre(request.form['nombre'])
            sala.setcapacidad(request.form['capacidad'])
            sala.insertar_sala()
            return redirect(url_for('cinex.Salas'))
    except Exception as e:
        raise e

# RUTA ELIMINA SALAS
@cinex.route('/delete_salas/<string:sala_id>')
def delete_salas(sala_id):
    sala.setSala_id(sala_id)
    sala.eliminar_salas()
    return redirect(url_for('cinex.Salas'))
    
# FUNCIONES
# RUTA CONSUTA FUNCION
@cinex.route('/funciones')
def Funciones():
    result= funcion.consultar_funciones()
    return render_template('funciones.html', Funciones = result)

# RUTA AÑADE FUNCION
@cinex.route('/add_funcion', methods= ['POST'])
def add_funciones():
    try:
        if request.method == 'POST':
            #Aqui no se como se conectan las tres tablas por que aui me salia error en el request.form
            funcion.setFuncion_id(request.form['funcion_id']
            funcion.setPelicula_id(request.form['pelicula_id'])
            funcion.setSala_id(request.form['sala_id'])
            funcion.setFecha_hora(request.form['fecha_hora'])
            funcion.insert_funcion()
            funcion.insertar_funcion()
            return redirect(url_for('cinex.funcion'))
    except Exception as e:
        raise e
    
# Reservas
@cinex.route('/Reservas')
def  Reservas():
    result = reserva.consultar_reservas()
    return render_template('reservas.html', Reserva = result)

@cinex.route('/add_reservas', methods = ['POST'])
def add_reservas():
    try:
        if request.method == 'POST':
            #Aqui no se como se conectan las tres tablas por que aui me salia error en el request.form
            reserva.setReservas_id(request.form['reserva_id'])
            reserva.setFuncion_id(request.form['funcion_id'])
            reserva.setCliente_id(request.form['cliente_id'])
            reserva.setCantidad_tickets(request['cantidad_tickets'])
            reserva.insertar_reserva()
            return redirect(url_for('cinex.reserva'))
    except Exception as e:
        raise e

@cinex.route('/delete_reserva/<string:reserva_id>')
def delete_reserva(reserva_id):
    reserva.setReservas_id(reserva_id)
    reserva.eliminar_reserva()
    return redirect(url_for('cinex.reserva'))
